function delay(o){return new Promise(function(e,t){setTimeout(function(){e()},o)})}function googleTranslateElementInit2(){new google.translate.TranslateElement({pageLanguage:"ko",autoDisplay:!1},"google_translate_element2")}eval(function(e,t,o,n,i){if(n=function(e){return(e<43?"":n(parseInt(e/43)))+(35<(e%=43)?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;t--;)i[n(t)]=o[t]||n(t);o=[function(e){return i[e]}],n=function(){return"\\w+"},t=1}for(;t--;)o[t]&&(e=e.replace(new RegExp("\\b"+n(t)+"\\b","g"),o[t]));return e}("6 7(a,b){n{4(2.9){3 c=2.9(\"o\");c.p(b,f,f);a.q(c)}g{3 c=2.r();a.s('t'+b,c)}}u(e){}}6 h(a){4(a.8)a=a.8;4(a=='')v;3 b=a.w('|')[1];3 c;3 d=2.x('y');z(3 i=0;i<d.5;i++)4(d[i].A=='B-C-D')c=d[i];4(2.j('k')==E||2.j('k').l.5==0||c.5==0||c.l.5==0){F(6(){h(a)},G)}g{c.8=b;7(c,'m');7(c,'m')}}",43,"||document|var|if|length|function|GTranslateFireEvent|value|createEvent||||||true|else|doGTranslate||getElementById|google_translate_element2|innerHTML|change|try|HTMLEvents|initEvent|dispatchEvent|createEventObject|fireEvent|on|catch|return|split|getElementsByTagName|select|for|className|goog|te|combo|null|setTimeout|500".split("|"),0,{}));var floatingTocNew=$(".floating-toc-new"),bookToc=$(".book-toc"),contentMiddleYn=$("#content-middle-yn").val(),animating=!1,mobileAnimating=!1,timer=0,clickFloatingFlag=!0,title=null,floatingTocPostion=$("#floating-toc-position").val(),adsTocPosition=$("#ads-toc-position").val(),articleMaxWidth=Number($("#article-max-width").val()),clickContentFlag=!0,tocUnfoldYn=$("#toc-unfold-yn").val();function clickContentTitle(){var e;clickContentFlag&&(clickContentFlag=!1,e=(e=300*$("#toc").find("a").length/20)<300?300:500<e?500:e,$(".book-toc #toc").slideToggle(e,"linear",function(){var e=$(".book-toc>p>span#toggle");e.hasClass("open")?(e.html("&#xf103;"),e.removeClass("open")):(e.html("&#xf102;"),e.addClass("open")),clickContentFlag=!0}))}function makeToc(){var e,t;0<$(".content-article h2,h3,h4").length-$(".another_category h4").length-$("h3.tit_list_type").length&&(1==$(".book-toc").length?$("#auto-toc-yn").val()&&$(".book-toc").css("display","block"):1<$(".book-toc").length&&(($("#ignore-toc-yn").val()?$(".book-toc").eq(1):$(".book-toc").eq(0)).remove(),$(".book-toc").css("display","block")),0<(e=$("#toc")).length&&(t="&#xf102;",$("#fold-toc-yn").val()?(e.css("display","none"),t="&#xf103;"):e.css("display","block"),e.toc({content:".content-article",headings:"h2,h3,h4"}),$(".book-toc p").append('<span id="toggle" style="padding-left:10px;">'+t+"</span>"),0<$(".another_category").length&&e.find("li:last").remove(),$("#fold-toc-yn").val()||$(".book-toc>p>span#toggle").addClass("open"),makeClipboardLink(),bookToc=$(".book-toc")),$(".book-toc p").off("click touchend").on("click touchend",function(){clickContentTitle()}))}function checkContentPosition(){var e=$(".content-article").find("h2,h3,h4"),t=window.scrollY+50+($("#fixed-header").val()&&0<$("header").length?$("header").height()+5:0)+addHeightByAnchorAds("top");if(1<e.length)for(var o=0;o<e.length;o++){var n=$(".floating-toc-new #toc").find("a");if(o<e.length-1){if(e.eq(o).offset().top<t&&e.eq(o+1).offset().top>t){n.removeAttr("class"),n.parent().removeAttr("class"),n.eq(o).addClass("floating-toc-title-ani"),n.eq(o).addClass("selected");break}}else if(e.eq(o).offset().top<t){n.removeAttr("class"),n.parent().removeAttr("class"),n.eq(o).addClass("floating-toc-title-ani"),n.eq(o).addClass("selected");break}}}function clickFloatingTitle(){clickFloatingFlag&&(clickFloatingFlag=!1,floatingTocNew.css("height",""),$(".floating-toc-new #toc").css("display",""),contentMiddleYn&&250<(window.innerWidth-$(".content-wrapper").outerWidth())/2||!contentMiddleYn&&1413<window.innerWidth?(title.hasClass("close")&&(contentMiddleYn&&!adsTocPosition||fixedRecommendAds("unfold")),$("#toc-body").slideToggle(300,"linear",function(){title.hasClass("close")?(title.removeClass("close"),title.html("&#xf102;")):(title.addClass("close"),title.html("&#xf103;"),contentMiddleYn&&!adsTocPosition||fixedRecommendAds("toc")),clickFloatingFlag=!0})):(title.hasClass("close")&&(title.html("&#xf102;"),floatingTocNew.css("width","80%"),floatingTocNew.css("max-width","250px"),floatingTocNew.css("transform","scale(1.0)"),checkContentPosition(),1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth>articleMaxWidth+32&&floatingTocPostion&&contentMiddleYn?floatingTocNew.css("right","0px"):floatingTocNew.css("left","0px")),$("#toc-body").slideToggle(300,"linear",function(){title.hasClass("close")?title.removeClass("close"):(title.html("&#xf103;"),title.addClass("close"),floatingTocNew.css("width","fit-content"),floatingTocNew.css("transform","scale(0.8)"),1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth>articleMaxWidth+32&&floatingTocPostion&&contentMiddleYn?floatingTocNew.css("right","-8px"):floatingTocNew.css("left","-8px")),clickFloatingFlag=!0})))}function makeFloatingToc(){var e=$(".content-article h2,h3,h4").length-$(".another_category h4").length-$("h3.tit_list_type").length;0<bookToc.length&&0<e&&(e=$('<div id="toc-title"><p>목차<span id="toggle" class="close" style="padding-left:5px;">&#xf103;</span></p></div>'),floatingTocNew.append(e),e=$('<div id="toc-body"></div>').append(bookToc.find("#toc").clone()),floatingTocNew.append(e),floatingTocNew.css("height","19px"),title=$("#toc-title>p>span#toggle"),$("#toc-title").off("click").on("click",function(){clickFloatingTitle()}),$("#toc-title").off("touchend").on("touchend",function(){clickFloatingTitle()}),$("#toc-body").find("a").off("click").on("click",function(){checkPosition()}))}function initFloatingTocNew(){$("#toc-body").css("display","none"),$(".floating-toc-new #toc").css("display",""),floatingTocNew.css("display",""),floatingTocNew.css("width",""),floatingTocNew.css("max-width",""),floatingTocNew.css("max-height",""),floatingTocNew.css("top",""),floatingTocNew.css("margin-right",""),floatingTocNew.css("transform",""),floatingTocNew.css("left",""),floatingTocNew.css("right",""),title.addClass("close")}function appendTocNew(){var e,t;0<bookToc.length&&null!=title&&(e=$("#fixed-header").val()?$("header").height():0,contentMiddleYn&&250<(window.innerWidth-$(".content-wrapper").outerWidth())/2||!contentMiddleYn&&1413<window.innerWidth?window.scrollY>bookToc.outerHeight()+bookToc.offset().top-e-addHeightByAnchorAds("top")?animating||(mobileAnimating=!(animating=!0),initFloatingTocNew(),t=0,t=contentMiddleYn?floatingTocPostion?(window.innerWidth-$(".content-wrapper").width())/2-floatingTocNew.outerWidth()-42:(window.innerWidth-$(".content-wrapper").width())/2+$(".content-wrapper").width()+32:(window.innerWidth-$(".content-wrapper").width()-floatingTocNew.outerWidth())/2-52,floatingTocNew.css("right",t),tocUnfoldYn&&contentMiddleYn?($("#toc-body").css("display",""),floatingTocNew.css("height",""),title.html("&#xf102;"),title.removeClass("close")):(title.html("&#xf103;"),title.addClass("close")),floatingTocNew.animate({opacity:"1.0"},300)):animating&&(mobileAnimating=!(animating=!1),floatingTocNew.animate({opacity:"0.0"},300)):window.scrollY>bookToc.outerHeight()+bookToc.offset().top-$("header").height()?mobileAnimating||(animating=!(mobileAnimating=!0),initFloatingTocNew(),title.html("&#xf103;"),$("#toc-body").css("display","none"),floatingTocNew.css("width","fit-content"),floatingTocNew.css("height","20px"),floatingTocNew.css("margin-right","0px"),floatingTocNew.css("margin-left","0px"),floatingTocNew.css("opacity","0.9"),floatingTocNew.css("transform","scale(0.8)"),1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth>articleMaxWidth+32&&floatingTocPostion&&contentMiddleYn?floatingTocNew.css("right","-8px"):floatingTocNew.css("left","-8px")):mobileAnimating&&(animating=!(mobileAnimating=!1),floatingTocNew.css("display","none"),title.html("&#xf102;"),title.removeClass("close"),$("#toc-body").css("display","")),t=addHeightByAnchorAds("top"),$("#fixed-header").val()?floatingTocNew.css("top",$("header").height()+10+t+"px"):$("#hide-sidebar").val()?floatingTocPostion?floatingTocNew.css("top",60+t+"px"):floatingTocNew.css("top",30+t+"px"):1079<window.innerWidth&&window.innerWidth<1400&&floatingTocPostion&&!contentMiddleYn||window.innerWidth>articleMaxWidth+32&&floatingTocPostion&&contentMiddleYn?floatingTocNew.css("top",10+t+"px"):floatingTocNew.css("top",30+t+"px"),floatingTocNew.height()>floatingTocNew.find("#toc-title").height()&&checkContentPosition())}function copyTitleToClipboard(e){var t=$("#toc a"),o=document.createElement("textarea");document.body.appendChild(o),o.value=t.eq(e).prop("href"),o.select(),document.execCommand("copy"),document.body.removeChild(o),showToast("링크 복사 완료!")}function makeClipboardLink(){if($("#make-clipboard-link").val())for(var e=$("#toc a"),t=0;t<e.length;t++){var o=e.eq(t).attr("href").substr(1).replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi,"\\$&");$("#"+o).append('<button class="copy-title-btn" onclick="copyTitleToClipboard('+t+')"></button>')}}var repeatCnt=0,smoothScrollTimer=0,currentPosition=null;function smoothScroll(){$("a:not(.lb-prev, .lb-next, .lb-close, .btn-toggle-moreless, .btn_mark)").off().on("click",function(){var e=this,t=$.attr(e,"href"),o=$(window).scrollTop(),n=0,i=!1,r=$("#fixed-header").val()&&0<$("header").length?$("header").height()+5:0;if(void 0!==t&&1<t.length&&-1<t.indexOf("#")&&(n=$("#"+t.substr(1).replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi,"\\$&")).offset().top-addHeightByAnchorAds("top"),i=!0),$(e).hasClass("move-top-btn")&&(i=!0),currentPosition!=n-r&&(clearTimeout(smoothScrollTimer),smoothScrollTimer=0),i){o=Math.abs(o-n-r)/2e3*300,o=o<500?500:3e3<o?3e3:o;return $("html, body").animate({scrollTop:n-r},o,"swing"),smoothScrollTimer=setTimeout(function(){currentPosition=repeatCnt<3&&0!=n?($(e).click(),repeatCnt++,n):(smoothScrollTimer=repeatCnt=0,null)},o),!1}})}var msgTimer=0;function showToast(e,t,o){clearToast(),o=o||1e3;var n=$("#toast");"top"==t?(n.css("top","calc(33px + "+addHeightByAnchorAds("top")+"px)"),n.css("bottom","")):"bottom"==t?(n.css("top",""),n.css("bottom","calc(-13px + "+addHeightByAnchorAds("bottom")+"px)")):(n.css("top","calc(50% - "+(addHeightByAnchorAds("bottom")+addHeightByAnchorAds("top"))/2+"px)"),n.css("bottom","")),n.children().html(e),setTimeout(function(){n.fadeIn(500,function(){msgTimer=setTimeout(function(){n.fadeOut(500)},o)})},200)}function clearToast(){0!=msgTimer&&(clearTimeout(msgTimer),msgTimer=0)}var scrollTop=0,likeButton=null,likeButtonPosition=0,scrollHeight=0,contentsCurrentPosition=0,etcCurrentPosition=0,$pbv=$(".progress-bar-vertical"),$pbh=$(".progress-bar-horizontal"),$pbev=$(".progress-bar-etc-vertical"),$pbeh=$(".progress-bar-etc-horizontal");function commonProgressBar(){likeButton=$(".container_postbtn"),likeButtonPosition=0<likeButton.length?likeButton.offset().top:0,scrollHeight=$("body").prop("scrollHeight"),scrollTop=$(window).scrollTop(),contentsCurrentPosition=0==likeButtonPosition?0:likeButtonPosition>$(window).innerHeight()?scrollTop/(likeButtonPosition-$(window).innerHeight()):1,etcCurrentPosition=1-(scrollHeight-scrollTop-$(window).innerHeight())/(scrollHeight-likeButtonPosition)}function progressBarVertical(){$pbv.css("height",100*(1<contentsCurrentPosition?1:contentsCurrentPosition)+"%"),$pbv.css("left",$(".content-wrapper").offset().left+Number($("#border-size").val())+"px"),$pbv.css("opacity",.8-.5*(1<contentsCurrentPosition?1:contentsCurrentPosition))}function progressBarHorizontal(){$pbh.css("width",100*(1<contentsCurrentPosition?1:contentsCurrentPosition)+"%"),$pbh.css("opacity",.8-.5*(1<contentsCurrentPosition?1:contentsCurrentPosition))}function progressBarEtcVertical(){$pbev.css("height",(0<likeButtonPosition?100*etcCurrentPosition:0)+"%"),$pbev.css("left",$(".content-wrapper").outerWidth()+$(".content-wrapper").offset().left-5-Number($("#border-size").val())+"px"),$pbev.css("opacity",.8-.5*etcCurrentPosition)}function progressBarEtcHorizontal(){$pbeh.css("width",(0<likeButtonPosition?100*etcCurrentPosition:0)+"%"),$pbeh.css("opacity",.8-.5*etcCurrentPosition)}function scrollProgressBar(){commonProgressBar(),$("#progress-top").val()&&progressBarHorizontal(),$("#progress-left").val()&&progressBarVertical(),$("#progress-right").val()&&progressBarEtcVertical(),$("#progress-bottom").val()&&progressBarEtcHorizontal()}function foldReply(e){if(document.location.href.indexOf("#comment")<0){for(var t=$(e),o=$("div.comment-list>ul>li#"+t.attr("id")+">ul>li"),n=0;n<o.length-Number($("#fold-comment-num").val());n++)o.eq(n).css("display","none");e=t.find("p").eq(0);0<e.find("div").length&&t.find("p").eq(0).find("div").remove();t='<div onclick="unfoldReply(this)" class="more-reply">'+(o.length-Number($("#fold-comment-num").val()))+"개 이전 댓글 보기</div>";e.append(t)}}function unfoldReply(e){for(var e=$(e).parent().parent(),t=$("div.comment-list>ul>li#"+e.attr("id")+">ul>li"),o=0;o<t.length-Number($("#fold-comment-num").val());o++)t.eq(o).css("display","block");e.find("p").eq(0).find("div").remove()}function initFoldReply(){if($("#fold-comment-yn").val()){var e=$("article").find(".inner").find(".comment-list>ul>li");if(0<e.length)for(var t=0;t<e.length;t++)e.eq(t).find("ul>li").length>Number($("#fold-comment-num").val())&&foldReply(e[t])}}function commentAutoLink(){!function(){var a=[].slice,e=function(){var n,t,i,o,r,e=1<=arguments.length?a.call(arguments,0):[],l=/(^|[\s\n]|<[A-Za-z]*\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi;return 0<e.length?(o=e[0],n=o.callback,i=function(){var e=[];for(t in o)r=o[t],"callback"!==t&&e.push(" "+t+"='"+r+"'");return e}().join(""),this.replace(l,function(e,t,o){return""+t+(("function"==typeof n?n(o):void 0)||"<a class='auto-link' href='"+o+"'"+i+">"+o+"</a>")})):this.replace(l,"$1<a class='auto-link' href='$2'>$2</a>")};String.prototype.autoLink=e}.call(this);for(var e=$("div.comment-list>ul>li>p"),t=$("div.comment-list>ul>li>ul>li>p"),o=0;o<e.length;o++)e[o].innerHTML=e[o].innerHTML.autoLink({target:"_blank"});for(var n=0;n<t.length;n++)t[n].innerHTML=t[n].innerHTML.autoLink({target:"_blank"})}var fontSize=1;function changeFontSize(e){if(""===e)return $("article").removeAttr("style"),!(fontSize=1);"+"===e?fontSize<5?fontSize+=.05:fontSize=5:"-"===e&&(.6<fontSize?fontSize-=.05:fontSize=.6),$("article").attr("style","font-size: "+fontSize+"em !important"),$(".change-font-btn").blur()}function commentControl(){$(document).on("click",".comments .comment-list ul li .author-meta .control button",function(){$(this).siblings(".link").is(":hidden")?($(".comments .link").removeAttr("style"),$(this).siblings(".link").show()):$(this).siblings(".link").hide()}),$(document).on("keyup",function(e){"27"==e.keyCode&&$(".comment-list ul li .author-meta .control .link").removeAttr("style")})}function removeDimmed(){$("#dimmed").remove(),$("section").css("z-index","110")}function doGTranslateCustom(e){("ko|ko"!=e||null!=localStorage.getItem("translate")&&"n"!=localStorage.getItem("translate"))&&("ko|ko"==e&&"y"==localStorage.getItem("translate")?localStorage.setItem("translate","n"):localStorage.setItem("translate","y"),doGTranslate(e),setTimeout(function(){window.innerWidth<1080&&($("button.close").focus(),$("button.close").click())},500))}function makeBell(){var e;$("#make-bell-yn").val()&&location.href.indexOf("notice")<0&&(e=$("#make-bell").val().replaceAll("&lt;","<").replaceAll("&gt;",">"),$('<div class="like_bubble"><span class="bubble_image"></span><div class="inner">'+e+"</div></div>").insertBefore($(".container_postbtn").children().eq(0)))}function toastAfterLike(){$("#toast-after-like-yn").val()&&$("button.btn_post.uoc-icon").on("click",function(){setTimeout(function(){0<$("button.btn_post.uoc-icon>div.like_on").length&&showToast($("#toast-after-like").val())},500)})}function common(){var t=$(".top-button .profile"),e=$(".top-button .menu");t.on("click","button",function(){$(this).siblings("nav").is(":hidden")?$(this).siblings("nav").show():$(this).siblings("nav").hide()}),t.on("mouseleave",function(){$(this).find("nav").hide()}),window.T&&window.T.config.USER.name?(t.find(".login").hide(),t.find(".logout").show()):(t.find(".login").show(),t.find(".logout").hide()),t.on("click",".login",function(){document.location.href="https://www.tistory.com/auth/login?redirectUrl="+encodeURIComponent(window.TistoryBlog.url)}),t.on("click",".logout",function(){document.location.href="https://www.tistory.com/auth/logout?redirectUrl="+encodeURIComponent(window.TistoryBlog.url)});var o=!0;$(".comment-content, span.count > span").bind("DOMSubtreeModified",function(){o&&(o=!1,setTimeout(function(){commentAutoLink(),initFoldReply(),o=!0},500))}),e.on("click",function(){var e;$("body").hasClass("mobile-menu")?($("body").removeClass("mobile-menu"),"y"==localStorage.getItem("dark-mode")&&$(".sidebar, .sidebar h2").css("background","#000"),$("#dimmed").length&&removeDimmed()):($("body").addClass("mobile-menu"),"y"==localStorage.getItem("dark-mode")&&$(".sidebar, .sidebar h2").css("background",""),$("body").append('<div id="dimmed"/>'),$("section").css("z-index",""),$(".sidebar .profile").length||($(".sidebar").append('<div class="profile" /><button type="button" class="close">닫기</button>'),t.find("ul").clone().appendTo(".sidebar .profile"),(e=$(".sidebar .profile")).on("click",".login",function(){document.location.href="https://www.tistory.com/auth/login?redirectUrl="+encodeURIComponent(window.TistoryBlog.url)}),e.on("click",".logout",function(){document.location.href="https://www.tistory.com/auth/logout?redirectUrl="+encodeURIComponent(window.TistoryBlog.url)})),$(".sidebar").css("padding-top",addHeightByAnchorAds("top")+50+"px"),$(".sidebar .close").css("top",addHeightByAnchorAds("top")+10+"px"),fixedRecommendAds("init"))}),$(".postbtn_like .wrap_btn.wrap_btn_etc button").on("click",function(){setTimeout(function(){},200)}),$(document).on("click","#dimmed, .sidebar .close",function(){$("body").removeClass("mobile-menu"),"y"==localStorage.getItem("dark-mode")&&$(".sidebar, .sidebar h2").css("background","#000"),$("#dimmed").length&&removeDimmed()});var n=localStorage.getItem("dark-mode"),e=$("#default-dark-mode").val();null==n?e?setDarkMode("+"):setDarkMode("-"):"y"==n?setDarkMode("+"):setDarkMode("-"),$(".share-btn").on("click",function(){var e=$("#tistorySnsLayer");0<e.length&&("block"==e.css("display")?(e.css("display","none"),e.removeClass("custom")):setTimeout(function(){$("button.btn_share").click(),e.css("position","fixed"),e.css("left",""),e.css("top",""),e.css("right","10px"),e.css("bottom",addHeightByAnchorAds("bottom")+60+"px")},200))});for(var i=$(".archives ul li a"),n=new Date(Date.now()),r=n.getFullYear(),l=n.getMonth()+1,a=0;a<i.length;a++){var c=i.eq(a).text().split("/"),s=12*(r-Number(c[0]))+(l-Number(c[1])),c="",c=0==s?"이번 달 작성 글 모아보기":s+"개월 전 작성 글 모아보기";i.eq(a).text("["+i.eq(a).text()+"] "+c)}if($(".category h2 a").html('카테고리 <span class="c_cnt">'+$(".category .link_tit .c_cnt").text()+"</span>"),$("#forced-dark-mode").val()&&(localStorage.setItem("dark-mode","y"),$("body").addClass("dark-mode")),0<$(".og-desc").length)for(a=0;a<$(".og-desc").length;a++)$(".og-desc").eq(a).text($(".og-desc").eq(a).text()+"...");for(var d=$(".sidebar ins").parent(),a=0;a<d.length;a++)"module module_plugin"==d.eq(a).prop("className")&&d.eq(a).css("border","none"),-1<d.eq(a).css("background-image").indexOf("adsense.svg")&&d.eq(a).css("background-image","none")}function updateTagsAttr(){var l,a,c,s,d=$(".content-title .inner h1, .content-article h2, h3, h4"),g=d.length-1,e=$(".content-article").find("img"),m=0,h=0,u=d.eq(0).text();e.each(function(e,t){var o=$(t);if(!o.attr("alt")||!o.attr("title"))for(var n,i,r=!1;!r;)if(m<=g&&(r=m===g||d.eq(m).offset().top<o.offset().top&&d.eq(m+1).offset().top>o.offset().top?("H1"===d.eq(m).prop("tagName")?l=u:"H2"===d.eq(m).prop("tagName")?l=u+" - "+a:"H3"===d.eq(m).prop("tagName")?l=u+" - "+a+" - "+c:"H4"===d.eq(m).prop("tagName")&&(l=u+" - "+a+" - "+c+" - "+s),o.attr("alt")||o.attr("alt",l),o.attr("title")||o.attr("title",l),!0):(m++,-1<(i=(n=d.eq(m).text()).indexOf(d.eq(m).find("button").text()))&&(n=n.substr(0,i)),"H2"===d.eq(m).prop("tagName")?a=n:"H3"===d.eq(m).prop("tagName")?c=n:"H4"===d.eq(m).prop("tagName")&&(s=n),!1)),200<++h)break}),$("img").each(function(e,t){t=$(t);t.attr("alt")||t.attr("alt",$("#header .inner > h1 > a").text().trim())}),$("script").removeAttr("type"),$("style").removeAttr("type")}function lazyLoading(){if($("#lazy-loading").val()){const e=document.querySelectorAll("img");0<e.length&&e.forEach(function(e){var t,o,n=$(e);n.offset().top>window.getWindowCleintHeight()&&(t=n.innerWidth(),o=n.innerHeight(),1<t&&1<o&&(n.css("width",t+"px"),n.css("height",o+"px")),n.css("opacity","0.2"),null!=e.getAttribute("srcset")&&(e.setAttribute("data-srcset",e.getAttribute("srcset")),e.setAttribute("srcset",$("#blank-img").attr("src"))),null!=e.getAttribute("src")&&(e.setAttribute("data-src",e.getAttribute("src")),e.setAttribute("src",$("#blank-img").attr("src"))),e.classList.add("lazyload"))}),[...document.querySelectorAll("img.lazyload")].forEach(async e=>{await function(e){const n={rootMargin:"0px",threshold:.1,...{}};return new Promise(t=>{const o=new IntersectionObserver(async e=>{var[e]=e;e.isIntersecting&&(t(),o.disconnect())},n);o.observe(e)})}(e),null!=e.getAttribute("src")&&e.setAttribute("src",e.getAttribute("data-src")),null!=e.getAttribute("srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset")),$(e).animate({opacity:"1.0"})})}}function fixedRecommendAds(e){var t,o,n,i,r,l,a,c;$("#use-fixed-ads-yn").val()&&(t=null,"matched"==(c=$("#fixed-ads-type").val())?t=$("#recommend-ads").parent():"adsense"==c?t=$("aside .revenue_unit_wrap .adsense").parent():"adfit"==c&&(t=$("aside .revenue_unit_wrap .adfit").parent()),o=!1,n=$("#fixed-header").val()?$("header").height()+5:!$("#hide-sidebar").val()||floatingTocPostion?5:60,"toc"==e?null!=t&&(a=(window.innerWidth-$(".content-wrapper").width())/2>t.outerWidth(),(contentMiddleYn&&a||!contentMiddleYn&&1400<=window.innerWidth)&&window.scrollY>$("header").height()&&(0<bookToc.length&&$("#toc-title>p>span#toggle").hasClass("close")&&(!contentMiddleYn||adsTocPosition)||contentMiddleYn&&!adsTocPosition||0==bookToc.length)?(i=!(0<bookToc.length)||contentMiddleYn&&!adsTocPosition?0:50,r=0,r=contentMiddleYn?adsTocPosition&&floatingTocPostion||!adsTocPosition&&!floatingTocPostion?(window.innerWidth-$(".content-wrapper").width())/2-t.outerWidth()-28:(window.innerWidth-$(".content-wrapper").width())/2+$(".content-wrapper").width()+18:window.innerWidth-$(".content-wrapper").width()-t.outerWidth()-80,l=.9,a=addHeightByAnchorAds("top")+addHeightByAnchorAds("bottom"),a=window.innerHeight-a,t.height()>a-i-n&&(l=(a-i-n)/t.height()*.9),t.css("position","fixed"),c="matched"==c?5:-15,c=t.height()*(1-l)/2-c,t.css("top","calc("+(i+n+addHeightByAnchorAds("top"))+"px - "+c+"px)"),t.css("transform","scale("+l+")"),t.css("right",r+"px")):o=!0):"unfold"==e?null!=t&&(o=!0):"init"==e&&0<t.length&&t.removeAttr("style"),o&&t.removeAttr("style"))}var moveToTheTitleTimer=0;function moveToTheTitle(){var e;-1<location.href.indexOf("#")&&(e=decodeURIComponent(location.href.substr(location.href.indexOf("#")+1)).replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi,"\\$&"),0<(e=$(0<e.length?"#"+e:"")).length&&-1<["H2","H3","H4","LI"].indexOf(e.prop("tagName"))&&(scrollTo(0,e.offset().top-($("#fixed-header").val()&&0<$("header").length?$("header").height()+5:0)),moveToTheTitleTimer=setTimeout(function(){repeatCnt<3?(moveToTheTitle(),repeatCnt++):repeatCnt=moveToTheTitleTimer=0},200)))}var bgmSource=[],saveIndex=window.localStorage.getItem("current-bgm-index");isNaN(Number(saveIndex))&&(saveIndex="0");var currentIndex=saveIndex?Number(saveIndex):Math.floor(Math.random()*bgmSource.length),currentVolume=Number(window.localStorage.getItem("current-bgm-volume"))||Number($("#init-bgm-volume").val()),bgmPlaying=!1,nextPlay=!1,myBgm=null,currentBgm=null;function bgmMute(e){0<bgmSource.length&&("+"==e?myBgm.muted=!1:"-"==e?myBgm.muted=!0:browserCheck("ios")?showToast("아이폰은 지원하지 않습니다."):myBgm.muted=!myBgm.muted,myBgm.muted?$("#bgm-mute").html("&#xf028;"):$("#bgm-mute").html("&#xf6a9;")),$(".bgm-btn").blur()}function getCurrentBgm(){var e;0<bgmSource.length&&($("#bgm-autoplay-yn").val()&&(767<window.innerWidth||$("#bgm-autoplay-mobile-yn").val())&&(window.localStorage.getItem("current-bgm")||(window.localStorage.setItem("current-bgm","play"),currentVolume=Number($("#init-bgm-volume").val()))),"stop"==window.localStorage.getItem("current-bgm")||null==window.localStorage.getItem("current-bgm")?(myBgm.pause(),bgmPlaying=!1,$("#bgm-status").html("&#xf04b;")):(myBgm.paused&&!bgmPlaying&&(currentBgm.html(bgmSource.length>currentIndex?bgmSource[currentIndex].title:"재생 목록 없음"),myBgm.src=bgmSource[currentIndex].src,bgmMute("-"),void 0!==(e=myBgm.play())&&e.then(function(){bgmPlaying=!0;var e=(Number(window.localStorage.getItem("current-bgm-time"))||0)-.3;myBgm.currentTime=0<e?e:0,$("#bgm-status").html("&#xf04c;")}).catch(function(e){bgmPlaying=!1,$("#bgm-status").html("&#xf04b;")})),browserCheck("ios")&&bgmVolume("+")))}function nextBgm(e){myBgm.pause(),nextPlay=!(bgmPlaying=!1),currentIndex=((currentIndex+="+"==e?1:-1)<0?bgmSource.length-1:currentIndex)%bgmSource.length,window.localStorage.setItem("current-bgm-index",null),window.localStorage.setItem("current-bgm-time",null),window.localStorage.setItem("current-bgm","play"),getCurrentBgm(),$(".bgm-btn").blur()}function bgmVolume(e){0<bgmSource.length&&("+"==e?currentVolume+=.05:currentVolume-=.05,browserCheck("ios")?"+"==e?(window.localStorage.setItem("current-bgm","play"),bgmMute("+"),myBgm.play()):(window.localStorage.setItem("current-bgm","stop"),bgmMute("-"),myBgm.pause()):(myBgm.volume=currentVolume=1<currentVolume?1:currentVolume<0?0:currentVolume,showToast("볼륨: "+(Math.ceil(100*currentVolume)-Math.ceil(100*currentVolume)%5)+"%","bottom"))),$(".bgm-btn").blur()}function toggleBgm(){"stop"==window.localStorage.getItem("current-bgm")||null==window.localStorage.getItem("current-bgm")||""==$("#bgm-status").html()?window.localStorage.setItem("current-bgm","play"):(saveBgmStatus(),window.localStorage.setItem("current-bgm","stop")),getCurrentBgm(),$(".bgm-btn").blur()}function saveBgmStatus(){0<bgmSource.length&&(Date.now()-Number(window.localStorage.getItem("visit-time"))<36e5||null==window.localStorage.getItem("visit-time")?(window.localStorage.setItem("current-bgm-index",currentIndex),window.localStorage.setItem("current-bgm-time",myBgm.currentTime)):(window.localStorage.setItem("current-bgm-index",Math.floor(Math.random()*bgmSource.length)),window.localStorage.setItem("current-bgm-time","0")),window.localStorage.setItem("visit-time",Date.now()),window.localStorage.setItem("current-bgm-volume",currentVolume))}function bgmStartHandler(e){(bgmPlaying?saveBgmStatus:getCurrentBgm)()}function bgmEvents(){if(0<$("#bgm-title").length){$("#bgm").on("ended",function(e){nextBgm("+")}),$(window).on("beforeunload",function(e){saveBgmStatus()}),$(window).on("click",bgmStartHandler),$(window).on("touchstart",bgmStartHandler),$(window).on("touchend",bgmStartHandler);for(var e,t=1;t<11;t++)0<$("#bgm-src-"+t).length&&0<$("#bgm-src-"+t).val().length&&(e={src:$("#bgm-src-"+t).val().replaceAll("&amp;","&"),title:$("#bgm-title-"+t).val()},bgmSource.push(e));currentIndex>bgmSource.length-1&&(currentIndex=0),myBgm=$("#bgm")[0],currentBgm=$("#current-bgm"),myBgm.onplaying=function(){bgmPlaying=!0,myBgm.volume=currentVolume=1<currentVolume||currentVolume<0?.1:currentVolume,bgmMute("+"),currentBgm.hasClass("bgm-playing")||(currentBgm.addClass("bgm-playing"),$(".bgm-header").addClass("bgm-playing")),$("#bgm-status").html("&#xf04c;")},myBgm.onpause=function(){bgmPlaying=!1,currentBgm.hasClass("bgm-playing")&&(currentBgm.removeClass("bgm-playing"),$(".bgm-header").removeClass("bgm-playing")),$("#bgm-status").html("&#xf04b;")},myBgm.muted?bgmMute("-"):bgmMute("+"),getCurrentBgm()}else window.localStorage.removeItem("current-bgm-index"),window.localStorage.removeItem("current-bgm-volume"),window.localStorage.removeItem("current-bgm-time"),window.localStorage.removeItem("visit-time")}function stopScrollTimer(){0!=moveToTheTitleTimer&&(clearTimeout(moveToTheTitleTimer),moveToTheTitleTimer=0),0!=smoothScrollTimer&&(clearTimeout(smoothScrollTimer),smoothScrollTimer=0)}var $headerTitle=$("header .inner p a"),$headerTitleImage=$("header .inner p a img"),headerTitleText=$("header .inner p a").text().trim(),$header=$("header"),initHeaderHeight=$("header").outerHeight(),$topButton=$(".top-button"),$contentTitle=$("article .inner .content-title"),flagForMoveToTheTitle=!0,fixedHeaderTopTimer=0;function fixedHeader(){$("#fixed-header").val()&&function(){var e=Number($("body").css("padding-top").replace("px","")),t=window.scrollY>e?addHeightByAnchorAds("top"):e,e=window.scrollY>$(".sidebar").offset().top-$headerTitle.height()?addHeightByAnchorAds("top"):0;0<window.scrollY&&window.scrollHeight>window.innerHeight?($(".content-wrapper").css("margin-top",initHeaderHeight+"px"),$header.css("position","fixed"),$header.css("top",t+"px"),$header.css("left","0"),$header.css("z-index","119"),$topButton.css("position","fixed"),$topButton.css("top",t+10+"px"),$("#blog-menu").css("display","none"),$header.css("height",$headerTitle.height()+20+"px"),"y"!=localStorage.getItem("dark-mode")?$header.css("background","#fff"):$header.css("background",""),$header.css("opacity","0.9"),0<$contentTitle.length&&window.scrollY>$contentTitle.offset().top+$contentTitle.outerHeight()?($headerTitle.html($(".content-title .inner .title-box h1").text()),$headerTitle.attr("href","#")):(0<$headerTitleImage.length?($headerTitle.html(""),$headerTitle.append($headerTitleImage)):$headerTitle.html(headerTitleText),$headerTitle.attr("href","/")),$(".progress-bar-horizontal").css("top",$headerTitle.height()+20+t+"px"),$("#aside-top-blank").css("height",$headerTitle.height()+30+e+"px"),$("#aside-top-blank").slideDown(300,"linear")):0==window.scrollY&&(0!=fixedHeaderTopTimer&&(clearTimeout(fixedHeaderTopTimer),fixedHeaderTopTimer=0),$("#aside-top-blank").slideUp(300,"linear"),$("#blog-menu").fadeIn(500,"linear"),fixedHeaderTopTimer=0,fixedHeaderTopTimer=setTimeout(function(){$(".content-wrapper").css("margin-top",""),$header.css("height",""),$header.css("background",""),$header.css("border-bottom",""),$header.css("opacity",""),$header.css("position",""),$header.css("top",""),$header.css("left",""),$header.css("z-index",""),$topButton.css("top",t+10+"px"),0<$headerTitleImage.length?($headerTitle.html(""),$headerTitle.append($headerTitleImage)):$headerTitle.html(headerTitleText)},200));0<$(".floating-toc").height()&&$(".floating-toc").css("top",$headerTitle.height()+20+"px");-1<location.href.indexOf("#")&&flagForMoveToTheTitle&&(flagForMoveToTheTitle=!1,moveToTheTitle())}()}function selectMakeFloatingToc(){makeFloatingToc()}function selectAppendToc(){$("#use-floating-toc-yn").val()&&appendTocNew()}function detectTop(){0==window.scrollY&&"#"==$headerTitle.attr("href")&&$headerTitle.attr("href","/")}function foldFloatingToc(){contentMiddleYn&&250<(window.innerWidth-$(".content-wrapper").outerWidth())/2||!contentMiddleYn&&1413<window.innerWidth||null!=title&&0<title.length&&!title.hasClass("close")&&clickFloatingTitle()}var previousScrollTop=0,sidebarScrollFlag=!0;function stickySidebar(){var e="";window.scrollHeight>window.innerHeight+100&&$(".sidebar div")[0].scrollHeight>window.innerHeight?(e=$(".sidebar")[0].scrollHeight-$(".sidebar")[0].scrollTop>$("#lower").offset().top+$("#lower").height()+30-window.scrollY-75?"":"100vh",sidebarScrollFlag&&(sidebarScrollFlag=!1,$(".sidebar").css("height",e),setTimeout(function(){sidebarScrollFlag=!0},50)),$(".sidebar")[0].scrollTop>window.scrollY&&previousScrollTop>window.scrollY&&$(".sidebar")[0].scrollTo(0,window.scrollY),previousScrollTop=window.scrollY):sidebarScrollFlag&&(sidebarScrollFlag=!1,$(".sidebar").css("height",""),setTimeout(function(){sidebarScrollFlag=!0},50))}function toggleCategory(){if($("#fold-category").val()){var e=Number($(".sidebar").css("right").replace("px",""));if(Number.isNaN(e)||0<e)for(var t=$(".category_list > li"),o=0;o<t.length;o++){var n=t.eq(o).find("ul.sub_category_list"),i=[],r=trim($("#fold-category-target").val());r.split(",").forEach(function(e){e&&i.push(trim(e))}),0<n.length&&(-1<i.indexOf(String(o+1))||""==r)&&controlFoldCategory(o)}}}var foldFlag=!0,tempIndex=-1;function controlFoldCategory(e){var t=$(".category_list > li"),o=$(".category_list > li > a"),n=Number.isNaN(Number($("#fold-category-speed").val()))?600:Number($("#fold-category-speed").val());o.eq(e).addClass("fold"),t.eq(e).find("ul.sub_category_list").slideUp(n,"swing"),t.eq(e).hover(function(){unfoldCategory(t,o,e,n)},function(){foldCategory(t,o,e,n).then(function(){-1!=tempIndex&&e!=tempIndex?unfoldCategory(t,o,tempIndex,n):foldCategory(t,o,e,n)}),tempIndex=-1})}function unfoldCategory(e,t,o,n){tempIndex=o;e=e.eq(o).find("ul.sub_category_list");"none"==e.css("display")&&foldFlag&&(foldFlag=!1,e.slideDown(n,"swing",function(){t.eq(o).removeClass("fold")}))}function foldCategory(o,n,i,r){return new Promise(function(e){var t=o.eq(i).find("ul.sub_category_list");"none"!=t.css("display")&&t.slideUp(r,"swing",function(){n.eq(i).addClass("fold"),foldFlag=!0,e()})})}function replaceLink(){for(var e=$(".inner a"),t=0;t<e.length;t++)e.eq(t).attr("href")&&e.eq(t).attr("href",e.eq(t).attr("href").split("?category=")[0])}var prePostFlag=!0,nextPostFlag=!0;function makeRecommendBlock(e,t){prePostFlag&&"pre"==e?(prePostFlag=!1,$("#pre-content").append($(".another_category tr").eq(t+1).find("a").clone()),$("#next-content").append('<a href="#" class="no-post">다음 글 없음</a>'),$(".content-box .content-arrow").eq(1).addClass("no-post")):nextPostFlag&&"next"==e?(nextPostFlag=!1,$("#next-content").append($(".another_category tr").eq(t-1).find("a").clone()),$("#pre-content").append('<a href="#" class="no-post">이전 글 없음</a>'),$(".content-box .content-arrow").eq(0).addClass("no-post")):prePostFlag&&nextPostFlag&&"both"==e&&(nextPostFlag=prePostFlag=!1,$("#pre-content").append($(".another_category tr").eq(t+1).find("a").clone()),$("#next-content").append($(".another_category tr").eq(t-1).find("a").clone()))}var recommendPostFlag=!0,recommendPostTimer=0,preRecommendPosition=-1;function recommendPost(){if(0<$(".another_category").length){if(1<window.scrollY/($(".another_category").offset().top-window.innerHeight)&&window.scrollY-$(".another_category").offset().top<0&&preRecommendPosition<window.scrollY){if(recommendPostFlag){recommendPostFlag=!1;var e,t=$(".another_category tr"),o=-1;if(1<t.length){for(var n=0;n<t.length;n++)if(0<t.eq(n).find("a.current").length){o=n;break}0<o&&o<t.length-1?makeRecommendBlock("both",o):0==o?makeRecommendBlock("pre",o):1<t.length&&makeRecommendBlock("next",o)}prePostFlag&&nextPostFlag||0!=recommendPostTimer||(e=0,e=310<window.innerWidth?10:(window.innerWidth-310)/2,$("#recommend-contents").css("bottom",addHeightByAnchorAds("bottom")+60+"px"),$("#recommend-contents").css("right","-350px"),$("#recommend-contents").css("display","block"),recommendPostTimer=$("#recommend-contents").animate({right:e+"px"},1e3,"swing",function(){}),recommendPostTimer=setTimeout(function(){$("#recommend-contents").animate({right:"-350px"},1e3,"swing",function(){$("#recommend-contents").css("display","none"),recommendPostTimer=0})},1e4))}}else recommendPostFlag=!0;preRecommendPosition=window.scrollY}}function addHeightByAnchorAds(e){return 0<$(".adsbygoogle[data-anchor-status]").length&&"displayed"==$(".adsbygoogle[data-anchor-status]").attr("data-anchor-status")?"bottom"==e?$(".adsbygoogle[data-anchor-status]").offset().top>window.scrollY?$(".adsbygoogle[data-anchor-status]").height():0:"top"==e?Math.round($(".adsbygoogle[data-anchor-status]").offset().top)==Math.round(window.scrollY)?$(".adsbygoogle[data-anchor-status]").height():0:void 0:0}function commonForScroll(){$(".floating-button").css("bottom",addHeightByAnchorAds("bottom")+15+"px"),$("#wrapper").css("padding-bottom",addHeightByAnchorAds("bottom")+"px")}function refreshAds(t){$("#adsense-refresh").val()&&("init"==t?(refreshAds("recommend"),setTimeout(function(){refreshAds("sidebar")},200)):setTimeout(function(){var e;"recommend"==t?0<(e=$("#recommend-ads > ins")).children().length&&(-1!=e.attr("style").indexOf("height: 0px;")||-1!=e.attr("style").indexOf("width: 0px;"))&&(e.children().remove(),e.removeAttr("data-adsbygoogle-status"),(adsbygoogle=window.adsbygoogle||[]).push({}),refreshAds("recommend")):"sidebar"!=t||0<(e=$(".sidebar .revenue_unit_wrap .adsbygoogle")).length&&(-1!=e.attr("style").indexOf("height: 0px;")||-1!=e.attr("style").indexOf("width: 0px;"))&&(e.children().remove(),e.removeAttr("data-adsbygoogle-status"),(adsbygoogle=window.adsbygoogle||[]).push({}),refreshAds("sidebar"))},6e4*(Math.random()+1)))}function isChromium(){$("#alert-chromium").val()&&(window.chrome||showToast("미넴 스킨은 크로미움 기반 브라우저에서 최적화 되었습니다.","top",5e3))}$(document).ready(function(){makeToc(),selectMakeFloatingToc(),commentControl(),commentAutoLink(),smoothScroll(),initFoldReply(),updateTagsAttr(),lazyLoading(),moveToTheTitle(),makeBell(),toastAfterLike(),bgmEvents(),toggleCategory(),replaceLink(),refreshAds("init"),common(),$(window).on("scroll resize",function(){scrollProgressBar(),selectAppendToc(),fixedRecommendAds("toc"),stopScrollTimer(),fixedHeader(),detectTop(),stickySidebar(),foldFloatingToc(),recommendPost(),commonForScroll()})});